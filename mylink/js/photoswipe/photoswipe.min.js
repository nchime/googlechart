/*! PhotoSwipe - v4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{if(typeof exports==="object"){module.exports=b()}else{a.PhotoSwipe=b()}}})(this,function(){var a=function(a3,bu,cq,bv){var bz={features:null,bind:function(cB,cz,cA,cy){var p=(cy?"remove":"add")+"EventListener";cz=cz.split(" ");for(var cx=0;cx<cz.length;cx++){if(cz[cx]){cB[p](cz[cx],cA,false)}}},isArray:function(p){return(p instanceof Array)},createEl:function(cx,p){var cy=document.createElement(p||"div");if(cx){cy.className=cx}return cy},getScrollY:function(){var p=window.pageYOffset;return p!==undefined?p:document.documentElement.scrollTop},unbind:function(cy,p,cx){bz.bind(cy,p,cx,true)},removeClass:function(cy,cx){var p=new RegExp("(\\s|^)"+cx+"(\\s|$)");cy.className=cy.className.replace(p," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(cx,p){if(!bz.hasClass(cx,p)){cx.className+=(cx.className?" ":"")+p}},hasClass:function(cx,p){return cx.className&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(cx.className)},getChildByClass:function(cx,p){var cy=cx.firstChild;while(cy){if(bz.hasClass(cy,p)){return cy}cy=cy.nextSibling}},arraySearch:function(cz,cy,cx){var p=cz.length;while(p--){if(cz[p][cx]===cy){return p}}return -1},extend:function(cy,cx,p){for(var cz in cx){if(cx.hasOwnProperty(cz)){if(p&&cy.hasOwnProperty(cz)){continue}cy[cz]=cx[cz]}}},easing:{sine:{out:function(p){return Math.sin(p*(Math.PI/2))},inOut:function(p){return -(Math.cos(Math.PI*p)-1)/2}},cubic:{out:function(p){return --p*p*p+1}}},detectFeatures:function(){if(bz.features){return bz.features}var cz=bz.createEl(),cD=cz.style,cG="",cy={};cy.oldIE=document.all&&!document.addEventListener;cy.touch="ontouchstart" in window;if(window.requestAnimationFrame){cy.raf=window.requestAnimationFrame;cy.caf=window.cancelAnimationFrame}cy.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled;if(!cy.pointerEvent){var cx=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var cH=(navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);if(cH&&cH.length>0){cH=parseInt(cH[1],10);if(cH>=1&&cH<8){cy.isOldIOSPhone=true}}}var cC=cx.match(/Android\s([0-9\.]*)/);var cJ=cC?cC[1]:0;cJ=parseFloat(cJ);if(cJ>=1){if(cJ<4.4){cy.isOldAndroid=true}cy.androidVersion=cJ}cy.isMobileOpera=/opera mini|opera mobi/i.test(cx)}var cE=["transform","perspective","animationName"],cI=["","webkit","Moz","ms","O"],cK,cA;for(var cB=0;cB<4;cB++){cG=cI[cB];for(var cF=0;cF<3;cF++){cK=cE[cF];cA=cG+(cG?cK.charAt(0).toUpperCase()+cK.slice(1):cK);if(!cy[cK]&&cA in cD){cy[cK]=cA}}if(cG&&!cy.raf){cG=cG.toLowerCase();cy.raf=window[cG+"RequestAnimationFrame"];if(cy.raf){cy.caf=window[cG+"CancelAnimationFrame"]||window[cG+"CancelRequestAnimationFrame"]}}}if(!cy.raf){var p=0;cy.raf=function(cM){var cL=new Date().getTime();var cN=Math.max(0,16-(cL-p));var cO=window.setTimeout(function(){cM(cL+cN)},cN);p=cL+cN;return cO};cy.caf=function(cL){clearTimeout(cL)}}cy.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;bz.features=cy;return cy}};bz.detectFeatures();if(bz.features.oldIE){bz.bind=function(cC,cA,cB,cz){cA=cA.split(" ");var p=(cz?"detach":"attach")+"Event",cy,cD=function(){cB.handleEvent.call(cB)};for(var cx=0;cx<cA.length;cx++){cy=cA[cx];if(cy){if(typeof cB==="object"&&cB.handleEvent){if(!cz){cB["oldIE"+cy]=cD}else{if(!cB["oldIE"+cy]){return false}}cC[p]("on"+cy,cB["oldIE"+cy])}else{cC[p]("on"+cy,cB)}}}}}var a4=this;var D=25,K=3;var ac={allowPanToNext:true,spacing:0.12,bgOpacity:1,mouseUsed:false,loop:true,pinchToClose:true,closeOnScroll:true,closeOnVerticalDrag:true,verticalDragRange:0.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:false,focus:true,escKey:true,arrowKeys:true,mainScrollEndFriction:0.35,panEndFriction:0.35,isClickableElement:function(p){return p.tagName==="A"},getDoubleTapZoom:function(cx,p){if(cx){return 1}else{return p.initialZoomLevel<0.7?1:1.33}},maxSpreadZoom:1.33,modal:true,scaleMode:"fit"};bz.extend(ac,bv);var bM=function(){return{x:0,y:0}};var G,bT,bF,bH,l,Z,U=bM(),cu=bM(),al=bM(),bG,ba,aI,b3={},bI,bN,ax,cf,F,a5,bp=0,bV={},bJ=bM(),at,q,aW=0,B,bn,J,R,ca,ah,ae=true,ci,aR=[],a9,aZ,af,aC,bi,b4,bb,T={},h=false,aK=function(p,cx){bz.extend(a4,cx.publicMethods);aR.push(p)},bA=function(p){var cx=aS();if(p>cx-1){return p-cx}else{if(p<0){return cx+p}}return p},ch={},a8=function(p,cx){if(!ch[p]){ch[p]=[]}return ch[p].push(cx)},ao=function(cx){var cz=ch[cx];if(cz){var p=Array.prototype.slice.call(arguments);p.shift();for(var cy=0;cy<cz.length;cy++){cz[cy].apply(a4,p)}}},ap=function(){return new Date().getTime()},d=function(p){aE=p;a4.bg.style.opacity=p*ac.bgOpacity},r=function(cz,p,cA,cy,cx){if(!h||(cx&&cx!==a4.currItem)){cy=cy/(cx?cx.fitRatio:a4.currItem.fitRatio)}cz[ca]=ax+p+"px, "+cA+"px"+cf+" scale("+cy+")"},ak=function(p){if(bl){if(p){if(bI>a4.currItem.fitRatio){if(!h){by(a4.currItem,false,true);h=true}}else{if(h){by(a4.currItem);h=false}}}r(bl,al.x,al.y,bI)}},ct=function(p){if(p.container){r(p.container.style,p.initialPosition.x,p.initialPosition.y,p.initialZoomLevel,p)}},bS=function(p,cx){cx[ca]=ax+p+"px, 0px"+cf},ad=function(p,cy){if(!ac.loop&&cy){var cx=bH+(bJ.x*bp-p)/bJ.x,cz=Math.round(p-aH.x);if((cx<0&&cz>0)||(cx>=aS()-1&&cz<0)){p=aH.x+cz*ac.mainScrollEndFriction}}aH.x=p;bS(p,l)},aN=function(cx,cy){var p=ar[cx]-bV[cx];return cu[cx]+U[cx]+p-p*(cy/bN)},a7=function(cx,p){cx.x=p.x;cx.y=p.y;if(p.id){cx.id=p.id}},E=function(cx){cx.x=Math.round(cx.x);cx.y=Math.round(cx.y)},s=null,aD=function(){if(s){bz.unbind(document,"mousemove",aD);bz.addClass(a3,"pswp--has_mouse");ac.mouseUsed=true;ao("mouseUsed")}s=setTimeout(function(){s=null},100)},b1=function(){bz.bind(document,"keydown",a4);if(bb.transform){bz.bind(a4.scrollWrap,"click",a4)}if(!ac.mouseUsed){bz.bind(document,"mousemove",aD)}bz.bind(window,"resize scroll",a4);ao("bindEvents")},aq=function(){bz.unbind(window,"resize",a4);bz.unbind(window,"scroll",aI.scroll);bz.unbind(document,"keydown",a4);bz.unbind(document,"mousemove",aD);if(bb.transform){bz.unbind(a4.scrollWrap,"click",a4)}if(bU){bz.unbind(window,bG,a4)}ao("unbindEvents")},aJ=function(cx,cy){var p=P(a4.currItem,b3,cx);if(cy){cm=p}return p},b0=function(p){if(!p){p=a4.currItem}return p.initialZoomLevel},Q=function(p){if(!p){p=a4.currItem}return p.w>0?ac.maxSpreadZoom:1},cd=function(cy,cz,p,cx){if(cx===a4.currItem.initialZoomLevel){p[cy]=a4.currItem.initialPosition[cy];return true}else{p[cy]=aN(cy,cx);if(p[cy]>cz.min[cy]){p[cy]=cz.min[cy];return true}else{if(p[cy]<cz.max[cy]){p[cy]=cz.max[cy];return true}}}return false},C=function(){if(ca){var p=bb.perspective&&!ci;ax="translate"+(p?"3d(":"(");cf=bb.perspective?", 0px)":")";return}ca="left";bz.addClass(a3,"pswp--ie");bS=function(cx,cy){cy.left=cx+"px"};ct=function(cB){var cy=cB.fitRatio>1?1:cB.fitRatio,cA=cB.container.style,cx=cy*cB.w,cz=cy*cB.h;cA.width=cx+"px";cA.height=cz+"px";cA.left=cB.initialPosition.x+"px";cA.top=cB.initialPosition.y+"px"};ak=function(){if(bl){var cA=bl,cB=a4.currItem,cy=cB.fitRatio>1?1:cB.fitRatio,cx=cy*cB.w,cz=cy*cB.h;cA.width=cx+"px";cA.height=cz+"px";cA.left=al.x+"px";cA.top=al.y+"px"}}},S=function(cx){var p="";if(ac.escKey&&cx.keyCode===27){p="close"}else{if(ac.arrowKeys){if(cx.keyCode===37){p="prev"}else{if(cx.keyCode===39){p="next"}}}}if(p){if(!cx.ctrlKey&&!cx.altKey&&!cx.shiftKey&&!cx.metaKey){if(cx.preventDefault){cx.preventDefault()}else{cx.returnValue=false}a4[p]()}}},bg=function(p){if(!p){return}if(ai||co||Y||bq){p.preventDefault();p.stopPropagation()}},aX=function(){a4.setScrollOffset(0,bz.getScrollY())};var aj={},ck=0,bo=function(p){if(aj[p]){if(aj[p].raf){aZ(aj[p].raf)}ck--;delete aj[p]}},x=function(p){if(aj[p]){bo(p)}if(!aj[p]){ck++;aj[p]={}}},a1=function(){for(var p in aj){if(aj.hasOwnProperty(p)){bo(p)}}},az=function(p,cE,cA,cD,cx,cz,cy){var cC=ap(),cF;x(p);var cB=function(){if(aj[p]){cF=ap()-cC;if(cF>=cD){bo(p);cz(cA);if(cy){cy()}return}cz((cA-cE)*cx(cF/cD)+cE);aj[p].raf=a9(cB)}};cB()};var cn={shout:ao,listen:a8,viewportSize:b3,options:ac,isMainScrollAnimating:function(){return Y},getZoomLevel:function(){return bI},getCurrentIndex:function(){return bH},isDragging:function(){return bU},isZooming:function(){return be},setScrollOffset:function(p,cx){bV.x=p;b4=bV.y=cx;ao("updateScrollOffset",bV)},applyZoomPan:function(cz,cy,p,cx){al.x=cy;al.y=p;bI=cz;ak(cx)},init:function(){if(G||bT){return}var cx;a4.framework=bz;a4.template=a3;a4.bg=bz.getChildByClass(a3,"pswp__bg");af=a3.className;G=true;bb=bz.detectFeatures();a9=bb.raf;aZ=bb.caf;ca=bb.transform;bi=bb.oldIE;a4.scrollWrap=bz.getChildByClass(a3,"pswp__scroll-wrap");a4.container=bz.getChildByClass(a4.scrollWrap,"pswp__container");l=a4.container.style;a4.itemHolders=at=[{el:a4.container.children[0],wrap:0,index:-1},{el:a4.container.children[1],wrap:0,index:-1},{el:a4.container.children[2],wrap:0,index:-1}];at[0].el.style.display=at[2].el.style.display="none";C();aI={resize:a4.updateSize,scroll:aX,keydown:S,click:bg};var cz=bb.isOldIOSPhone||bb.isOldAndroid||bb.isMobileOpera;if(!bb.animationName||!bb.transform||cz){ac.showAnimationDuration=ac.hideAnimationDuration=0}for(cx=0;cx<aR.length;cx++){a4["init"+aR[cx]]()}if(bu){var cy=a4.ui=new bu(a4,bz);cy.init()}ao("firstUpdate");bH=bH||ac.index||0;if(isNaN(bH)||bH<0||bH>=aS()){bH=0}a4.currItem=bC(bH);if(bb.isOldIOSPhone||bb.isOldAndroid){ae=false}a3.setAttribute("aria-hidden","false");if(ac.modal){if(!ae){a3.style.position="absolute";a3.style.top=bz.getScrollY()+"px"}else{a3.style.position="fixed"}}if(b4===undefined){ao("initialLayout");b4=aC=bz.getScrollY()}var p="pswp--open ";if(ac.mainClass){p+=ac.mainClass+" "}if(ac.showHideOpacity){p+="pswp--animate_opacity "}p+=ci?"pswp--touch":"pswp--notouch";p+=bb.animationName?" pswp--css_animation":"";p+=bb.svg?" pswp--svg":"";bz.addClass(a3,p);a4.updateSize();Z=-1;aW=null;for(cx=0;cx<K;cx++){bS((cx+Z)*bJ.x,at[cx].el.style)}if(!bi){bz.bind(a4.scrollWrap,ba,a4)}a8("initialZoomInEnd",function(){a4.setContent(at[0],bH-1);a4.setContent(at[2],bH+1);at[0].el.style.display=at[2].el.style.display="block";if(ac.focus){a3.focus()}b1()});a4.setContent(at[1],bH);a4.updateCurrItem();ao("afterInit");if(!ae){F=setInterval(function(){if(!ck&&!bU&&!be&&(bI===a4.currItem.initialZoomLevel)){a4.updateSize()}},1000)}bz.addClass(a3,"pswp--visible")},close:function(){if(!G){return}G=false;bT=true;ao("close");aq();aL(a4.currItem,null,true,a4.destroy)},destroy:function(){ao("destroy");if(b9){clearTimeout(b9)}a3.setAttribute("aria-hidden","true");a3.className=af;if(F){clearInterval(F)}bz.unbind(a4.scrollWrap,ba,a4);bz.unbind(window,"scroll",a4);cj();a1();ch=null},panTo:function(p,cy,cx){if(!cx){if(p>cm.min.x){p=cm.min.x}else{if(p<cm.max.x){p=cm.max.x}}if(cy>cm.min.y){cy=cm.min.y}else{if(cy<cm.max.y){cy=cm.max.y}}}al.x=p;al.y=cy;ak()},handleEvent:function(p){p=p||window.event;if(aI[p.type]){aI[p.type](p)}},goTo:function(p){p=bA(p);var cx=p-bH;aW=cx;bH=p;a4.currItem=bC(bH);bp-=cx;ad(bJ.x*bp);a1();Y=false;a4.updateCurrItem()},next:function(){a4.goTo(bH+1)},prev:function(){a4.goTo(bH-1)},updateCurrZoomItem:function(p){if(p){ao("beforeChange",0)}if(at[1].el.children.length){var cx=at[1].el.children[0];if(bz.hasClass(cx,"pswp__zoom-wrap")){bl=cx.style}else{bl=null}}else{bl=null}cm=a4.currItem.bounds;bN=bI=a4.currItem.initialZoomLevel;al.x=cm.center.x;al.y=cm.center.y;if(p){ao("afterChange")}},invalidateCurrItems:function(){a5=true;for(var p=0;p<K;p++){if(at[p].item){at[p].item.needsUpdate=true}}},updateCurrItem:function(cx){if(aW===0){return}var cA=Math.abs(aW),cz;if(cx&&cA<2){return}a4.currItem=bC(bH);h=false;ao("beforeChange",aW);if(cA>=K){Z+=aW+(aW>0?-K:K);cA=K}for(var cy=0;cy<cA;cy++){if(aW>0){cz=at.shift();at[K-1]=cz;Z++;bS((Z+2)*bJ.x,cz.el.style);a4.setContent(cz,bH-cA+cy+1+1)}else{cz=at.pop();at.unshift(cz);Z--;bS(Z*bJ.x,cz.el.style);a4.setContent(cz,bH+cA-cy-1-1)}}if(bl&&Math.abs(aW)===1){var p=bC(q);if(p.initialZoomLevel!==bI){P(p,b3);by(p);ct(p)}}aW=0;a4.updateCurrZoomItem();q=bH;ao("afterChange")},updateSize:function(cB){if(!ae&&ac.modal){var cy=bz.getScrollY();if(b4!==cy){a3.style.top=cy+"px";b4=cy}if(!cB&&T.x===window.innerWidth&&T.y===window.innerHeight){return}T.x=window.innerWidth;T.y=window.innerHeight;a3.style.height=T.y+"px"}b3.x=a4.scrollWrap.clientWidth;b3.y=a4.scrollWrap.clientHeight;aX();bJ.x=b3.x+Math.round(b3.x*ac.spacing);bJ.y=b3.y;ad(bJ.x*bp);ao("beforeResize");if(Z!==undefined){var cx,cA,cz;for(var p=0;p<K;p++){cx=at[p];bS((p+Z)*bJ.x,cx.el.style);cz=bH+p-1;if(ac.loop&&aS()>2){cz=bA(cz)}cA=bC(cz);if(cA&&(a5||cA.needsUpdate||!cA.bounds)){a4.cleanSlide(cA);a4.setContent(cx,cz);if(p===1){a4.currItem=cA;a4.updateCurrZoomItem(true)}cA.needsUpdate=false}else{if(cx.index===-1&&cz>=0){a4.setContent(cx,cz)}}if(cA&&cA.container){P(cA,b3);by(cA);ct(cA)}}a5=false}bN=bI=a4.currItem.initialZoomLevel;cm=a4.currItem.bounds;if(cm){al.x=cm.center.x;al.y=cm.center.y;ak(true)}ao("resize")},zoomTo:function(cE,cB,cy,p,cA){if(cB){bN=bI;ar.x=Math.abs(cB.x)-al.x;ar.y=Math.abs(cB.y)-al.y;a7(cu,al)}var cz=aJ(cE,false),cC={};cd("x",cz,cC,cE);cd("y",cz,cC,cE);var cF=bI;var cD={x:al.x,y:al.y};E(cC);var cx=function(cG){if(cG===1){bI=cE;al.x=cC.x;al.y=cC.y}else{bI=(cE-cF)*cG+cF;al.x=(cC.x-cD.x)*cG+cD.x;al.y=(cC.y-cD.y)*cG+cD.y}if(cA){cA(cG)}ak(cG===1)};if(cy){az("customZoomTo",0,1,cy,p||bz.easing.sine.inOut,cx)}else{cx(1)}}};var aF=30,W=10;var c,aB,bD={},bW={},m={},bd={},ce={},bc=[],cp={},aA,z=[],bX={},t,bq,ag,cg=0,j=bM(),am=0,bU,bt,co,ai,bO,L,av,be,M,O,cm,aH=bM(),bl,Y,ar=bM(),i=bM(),bj,au,aQ,aE,b,V=function(cx,p){return cx.x===p.x&&cx.y===p.y},bP=function(cx,p){return Math.abs(cx.x-p.x)<D&&Math.abs(cx.y-p.y)<D},aO=function(cx,p){bX.x=Math.abs(cx.x-p.x);bX.y=Math.abs(cx.y-p.y);return Math.sqrt(bX.x*bX.x+bX.y*bX.y)},cj=function(){if(bO){aZ(bO);bO=null}},cr=function(){if(bU){bO=a9(cr);b8()}},cw=function(){return !(ac.scaleMode==="fit"&&bI===a4.currItem.initialZoomLevel)},a6=function(cx,p){if(!cx||cx===document){return false}if(cx.getAttribute("class")&&cx.getAttribute("class").indexOf("pswp__scroll-wrap")>-1){return false}if(p(cx)){return cx}return a6(cx.parentNode,p)},e={},bf=function(cx,p){e.prevent=!a6(cx.target,ac.isClickableElement);ao("preventDragEvent",cx,p,e);return e.prevent},bQ=function(cy,cx){cx.x=cy.pageX;cx.y=cy.pageY;cx.id=cy.identifier;return cx},o=function(cy,cx,p){p.x=(cy.x+cx.x)*0.5;p.y=(cy.y+cx.y)*0.5},bB=function(cx,p,cz){if(cx-aB>50){var cy=z.length>2?z.shift():{};cy.x=p;cy.y=cz;z.push(cy);aB=cx}},n=function(){var p=al.y-a4.currItem.initialPosition.y;return 1-Math.abs(p/(b3.y/2))},cc={},cb={},bR=[],aw,aV=function(p){while(bR.length>0){bR.pop()}if(!ah){if(p.type.indexOf("touch")>-1){if(p.touches&&p.touches.length>0){bR[0]=bQ(p.touches[0],cc);if(p.touches.length>1){bR[1]=bQ(p.touches[1],cb)}}}else{cc.x=p.pageX;cc.y=p.pageY;cc.id="";bR[0]=cc}}else{aw=0;bc.forEach(function(cx){if(aw===0){bR[0]=cx}else{if(aw===1){bR[1]=cx}}aw++})}return bR},g=function(cx,cG){var cz,cD=0,cE=al[cx]+cG[cx],cB,cy=cG[cx]>0,cF=aH.x+cG.x,cA=aH.x-cp.x,p,cC;if(cE>cm.min[cx]||cE<cm.max[cx]){cz=ac.panEndFriction}else{cz=1}cE=al[cx]+cG[cx]*cz;if(ac.allowPanToNext||bI===a4.currItem.initialZoomLevel){if(!bl){cC=cF}else{if(bj==="h"&&cx==="x"&&!co){if(cy){if(cE>cm.min[cx]){cz=ac.panEndFriction;cD=cm.min[cx]-cE;cB=cm.min[cx]-cu[cx]}if((cB<=0||cA<0)&&aS()>1){cC=cF;if(cA<0&&cF>cp.x){cC=cp.x}}else{if(cm.min.x!==cm.max.x){p=cE}}}else{if(cE<cm.max[cx]){cz=ac.panEndFriction;cD=cE-cm.max[cx];cB=cu[cx]-cm.max[cx]}if((cB<=0||cA>0)&&aS()>1){cC=cF;if(cA>0&&cF<cp.x){cC=cp.x}}else{if(cm.min.x!==cm.max.x){p=cE}}}}}if(cx==="x"){if(cC!==undefined){ad(cC,true);if(cC===cp.x){L=false}else{L=true}}if(cm.min.x!==cm.max.x){if(p!==undefined){al.x=p}else{if(!L){al.x+=cG.x*cz}}}return cC!==undefined}}if(!Y){if(!L){if(bI>a4.currItem.fitRatio){al[cx]+=cG[cx]*cz}}}},bZ=function(cz){if(cz.type==="mousedown"&&cz.button>0){return}if(bw){cz.preventDefault();return}if(ag&&cz.type==="mousedown"){return}if(bf(cz,true)){cz.preventDefault()}ao("pointerDown");if(ah){var cx=bz.arraySearch(bc,cz.pointerId,"id");if(cx<0){cx=bc.length}bc[cx]={x:cz.pageX,y:cz.pageY,id:cz.pointerId}}var p=aV(cz),cy=p.length;av=null;a1();if(!bU||cy===1){bU=au=true;bz.bind(window,bG,a4);t=b=aQ=bq=L=ai=bt=co=false;bj=null;ao("firstTouchStart",p);a7(cu,al);U.x=U.y=0;a7(bd,p[0]);a7(ce,bd);cp.x=bJ.x*bp;z=[{x:bd.x,y:bd.y}];aB=c=ap();aJ(bI,true);cj();cr()}if(!be&&cy>1&&!Y&&!L){bN=bI;co=false;be=bt=true;U.y=U.x=0;a7(cu,al);a7(bD,p[0]);a7(bW,p[1]);o(bD,bW,i);ar.x=Math.abs(i.x)-al.x;ar.y=Math.abs(i.y)-al.y;M=O=aO(bD,bW)}},aM=function(cB){cB.preventDefault();if(ah){var cx=bz.arraySearch(bc,cB.pointerId,"id");if(cx>-1){var cA=bc[cx];cA.x=cB.pageX;cA.y=cB.pageY}}if(bU){var cy=aV(cB);if(!bj&&!ai&&!be){if(aH.x!==bJ.x*bp){bj="h"}else{var cz=Math.abs(cy[0].x-bd.x)-Math.abs(cy[0].y-bd.y);if(Math.abs(cz)>=W){bj=cz>0?"h":"v";av=cy}}}else{av=cy}}},b8=function(){if(!av){return}var cE=av.length;if(cE===0){return}a7(bD,av[0]);m.x=bD.x-bd.x;m.y=bD.y-bd.y;if(be&&cE>1){bd.x=bD.x;bd.y=bD.y;if(!m.x&&!m.y&&V(av[1],bW)){return}a7(bW,av[1]);if(!co){co=true;ao("zoomGestureStarted")}var cz=aO(bD,bW);var cB=H(cz);if(cB>a4.currItem.initialZoomLevel+a4.currItem.initialZoomLevel/15){b=true}var cD=1,cF=b0(),cx=Q();if(cB<cF){if(ac.pinchToClose&&!b&&bN<=a4.currItem.initialZoomLevel){var p=cF-cB;var cC=1-p/(cF/1.2);d(cC);ao("onPinchClose",cC);aQ=true}else{cD=(cF-cB)/cF;if(cD>1){cD=1}cB=cF-cD*(cF/3)}}else{if(cB>cx){cD=(cB-cx)/(cF*6);if(cD>1){cD=1}cB=cx+cD*cF}}if(cD<0){cD=0}M=cz;o(bD,bW,j);U.x+=j.x-i.x;U.y+=j.y-i.y;a7(i,j);al.x=aN("x",cB);al.y=aN("y",cB);t=cB>bI;bI=cB;ak()}else{if(!bj){return}if(au){au=false;if(Math.abs(m.x)>=W){m.x-=av[0].x-ce.x}if(Math.abs(m.y)>=W){m.y-=av[0].y-ce.y}}bd.x=bD.x;bd.y=bD.y;if(m.x===0&&m.y===0){return}if(bj==="v"&&ac.closeOnVerticalDrag){if(!cw()){U.y+=m.y;al.y+=m.y;var cA=n();bq=true;ao("onVerticalDrag",cA);d(cA);ak();return}}bB(ap(),bD.x,bD.y);ai=true;cm=a4.currItem.bounds;var cy=g("x",m);if(!cy){g("y",m);E(al);ak()}}},I=function(cE){if(bb.isOldAndroid){if(ag&&cE.type==="mouseup"){return}if(cE.type.indexOf("touch")>-1){clearTimeout(ag);ag=setTimeout(function(){ag=0},600)}}ao("pointerUp");if(bf(cE,false)){cE.preventDefault()}var cy;if(ah){var cz=bz.arraySearch(bc,cE.pointerId,"id");if(cz>-1){cy=bc.splice(cz,1)[0];if(navigator.pointerEnabled){cy.type=cE.pointerType||"mouse"}else{var cD={4:"mouse",2:"touch",3:"pen"};cy.type=cD[cE.pointerType];if(!cy.type){cy.type=cE.pointerType||"mouse"}}}}var cx=aV(cE),p,cF=cx.length;if(cE.type==="mouseup"){cF=0}if(cF===2){av=null;return true}if(cF===1){a7(ce,cx[0])}if(cF===0&&!bj&&!Y){if(!cy){if(cE.type==="mouseup"){cy={x:cE.pageX,y:cE.pageY,type:"mouse"}}else{if(cE.changedTouches&&cE.changedTouches[0]){cy={x:cE.changedTouches[0].pageX,y:cE.changedTouches[0].pageY,type:"touch"}}}}ao("touchRelease",cE,cy)}var cH=-1;if(cF===0){bU=false;bz.unbind(window,bG,a4);cj();if(be){cH=0}else{if(am!==-1){cH=ap()-am}}}am=cF===1?ap():-1;if(cH!==-1&&cH<150){p="zoom"}else{p="swipe"}if(be&&cF<2){be=false;if(cF===1){p="zoomPointerUp"}ao("zoomGestureEnded")}av=null;if(!ai&&!co&&!Y&&!bq){return}a1();if(!aA){aA=b7()}aA.calculateSwipeSpeed("x");if(bq){var cA=n();if(cA<ac.verticalDragRange){a4.close()}else{var cB=al.y,cG=aE;az("verticalDrag",0,1,300,bz.easing.cubic.out,function(cI){al.y=(a4.currItem.initialPosition.y-cB)*cI+cB;d((1-cG)*cI+cG);ak()});ao("onVerticalDrag",1)}return}if((L||Y)&&cF===0){var cC=ab(p,aA);if(cC){return}p="zoomPointerUp"}if(Y){return}if(p!=="swipe"){A();return}if(!L&&bI>a4.currItem.fitRatio){aY(aA)}},b7=function(){var cy,cx;var p={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(cz){if(z.length>1){cy=ap()-aB+50;cx=z[z.length-2][cz]}else{cy=ap()-c;cx=ce[cz]}p.lastFlickOffset[cz]=bd[cz]-cx;p.lastFlickDist[cz]=Math.abs(p.lastFlickOffset[cz]);if(p.lastFlickDist[cz]>20){p.lastFlickSpeed[cz]=p.lastFlickOffset[cz]/cy}else{p.lastFlickSpeed[cz]=0}if(Math.abs(p.lastFlickSpeed[cz])<0.1){p.lastFlickSpeed[cz]=0}p.slowDownRatio[cz]=0.95;p.slowDownRatioReverse[cz]=1-p.slowDownRatio[cz];p.speedDecelerationRatio[cz]=1},calculateOverBoundsAnimOffset:function(cz,cA){if(!p.backAnimStarted[cz]){if(al[cz]>cm.min[cz]){p.backAnimDestination[cz]=cm.min[cz]}else{if(al[cz]<cm.max[cz]){p.backAnimDestination[cz]=cm.max[cz]}}if(p.backAnimDestination[cz]!==undefined){p.slowDownRatio[cz]=0.7;p.slowDownRatioReverse[cz]=1-p.slowDownRatio[cz];if(p.speedDecelerationRatioAbs[cz]<0.05){p.lastFlickSpeed[cz]=0;p.backAnimStarted[cz]=true;az("bounceZoomPan"+cz,al[cz],p.backAnimDestination[cz],cA||300,bz.easing.sine.out,function(cB){al[cz]=cB;ak()})}}}},calculateAnimOffset:function(cz){if(!p.backAnimStarted[cz]){p.speedDecelerationRatio[cz]=p.speedDecelerationRatio[cz]*(p.slowDownRatio[cz]+p.slowDownRatioReverse[cz]-p.slowDownRatioReverse[cz]*p.timeDiff/10);p.speedDecelerationRatioAbs[cz]=Math.abs(p.lastFlickSpeed[cz]*p.speedDecelerationRatio[cz]);p.distanceOffset[cz]=p.lastFlickSpeed[cz]*p.speedDecelerationRatio[cz]*p.timeDiff;al[cz]+=p.distanceOffset[cz]}},panAnimLoop:function(){if(aj.zoomPan){aj.zoomPan.raf=a9(p.panAnimLoop);p.now=ap();p.timeDiff=p.now-p.lastNow;p.lastNow=p.now;p.calculateAnimOffset("x");p.calculateAnimOffset("y");ak();p.calculateOverBoundsAnimOffset("x");p.calculateOverBoundsAnimOffset("y");if(p.speedDecelerationRatioAbs.x<0.05&&p.speedDecelerationRatioAbs.y<0.05){al.x=Math.round(al.x);al.y=Math.round(al.y);ak();bo("zoomPan");return}}}};return p},aY=function(p){p.calculateSwipeSpeed("y");cm=a4.currItem.bounds;p.backAnimDestination={};p.backAnimStarted={};if(Math.abs(p.lastFlickSpeed.x)<=0.05&&Math.abs(p.lastFlickSpeed.y)<=0.05){p.speedDecelerationRatioAbs.x=p.speedDecelerationRatioAbs.y=0;p.calculateOverBoundsAnimOffset("x");p.calculateOverBoundsAnimOffset("y");return true}x("zoomPan");p.lastNow=ap();p.panAnimLoop()},ab=function(p,cy){var cz;if(!Y){cg=bH}var cx;if(p==="swipe"){var cD=bd.x-ce.x,cC=cy.lastFlickDist.x<10;if(cD>aF&&(cC||cy.lastFlickOffset.x>20)){cx=-1}else{if(cD<-aF&&(cC||cy.lastFlickOffset.x<-20)){cx=1}}}var cB;if(cx){bH+=cx;if(bH<0){bH=ac.loop?aS()-1:0;cB=true}else{if(bH>=aS()){bH=ac.loop?0:aS()-1;cB=true}}if(!cB||ac.loop){aW+=cx;bp-=cx;cz=true}}var cE=bJ.x*bp;var cA=Math.abs(cE-aH.x);var cF;if(!cz&&cE>aH.x!==cy.lastFlickSpeed.x>0){cF=333}else{cF=Math.abs(cy.lastFlickSpeed.x)>0?cA/Math.abs(cy.lastFlickSpeed.x):333;cF=Math.min(cF,400);cF=Math.max(cF,250)}if(cg===bH){cz=false}Y=true;ao("mainScrollAnimStart");az("mainScroll",aH.x,cE,cF,bz.easing.cubic.out,ad,function(){a1();Y=false;cg=-1;if(cz||cg!==bH){a4.updateCurrItem()}ao("mainScrollAnimComplete")});if(cz){a4.updateCurrItem(true)}return cz},H=function(p){return 1/O*p*bN},A=function(){var cy=bI,cB=b0(),p=Q();if(bI<cB){cy=cB}else{if(bI>p){cy=p}}var cA=1,cx,cz=aE;if(aQ&&!t&&!b&&bI<cB){a4.close();return true}if(aQ){cx=function(cC){d((cA-cz)*cC+cz)}}a4.zoomTo(cy,0,200,bz.easing.cubic.out,cx);return true};aK("Gestures",{publicMethods:{initGestures:function(){var p=function(cy,cB,cz,cx,cA){B=cy+cB;bn=cy+cz;J=cy+cx;if(cA){R=cy+cA}else{R=""}};ah=bb.pointerEvent;if(ah&&bb.touch){bb.touch=false}if(ah){if(navigator.pointerEnabled){p("pointer","down","move","up","cancel")}else{p("MSPointer","Down","Move","Up","Cancel")}}else{if(bb.touch){p("touch","start","move","end","cancel");ci=true}else{p("mouse","down","move","up")}}bG=bn+" "+J+" "+R;ba=B;if(ah&&!ci){ci=(navigator.maxTouchPoints>1)||(navigator.msMaxTouchPoints>1)}a4.likelyTouchDevice=ci;aI[B]=bZ;aI[bn]=aM;aI[J]=I;if(R){aI[R]=aI[J]}if(bb.touch){ba+=" mousedown";bG+=" mousemove mouseup";aI.mousedown=aI[B];aI.mousemove=aI[bn];aI.mouseup=aI[J]}if(!ci){ac.allowPanToNext=false}}}});var b9,aL=function(cB,cy,cA,cx){if(b9){clearTimeout(b9)}bw=true;bK=true;var cz;if(cB.initialLayout){cz=cB.initialLayout;cB.initialLayout=null}else{cz=ac.getThumbBoundsFn&&ac.getThumbBoundsFn(bH)}var cD=cA?ac.hideAnimationDuration:ac.showAnimationDuration;var cC=function(){bo("initialZoom");if(!cA){d(1);if(cy){cy.style.display="block"}bz.addClass(a3,"pswp--animated-in");ao("initialZoom"+(cA?"OutEnd":"InEnd"))}else{a4.template.removeAttribute("style");a4.bg.removeAttribute("style")}if(cx){cx()}bw=false};if(!cD||!cz||cz.x===undefined){ao("initialZoom"+(cA?"Out":"In"));bI=cB.initialZoomLevel;a7(al,cB.initialPosition);ak();a3.style.opacity=cA?0:1;d(1);if(cD){setTimeout(function(){cC()},cD)}else{cC()}return}var p=function(){var cF=bF,cE=!a4.currItem.src||a4.currItem.loadError||ac.showHideOpacity;if(cB.miniImg){cB.miniImg.style.webkitBackfaceVisibility="hidden"}if(!cA){bI=cz.w/cB.w;al.x=cz.x;al.y=cz.y-aC;a4[cE?"template":"bg"].style.opacity=0.001;ak()}x("initialZoom");if(cA&&!cF){bz.removeClass(a3,"pswp--animated-in")}if(cE){if(cA){bz[(cF?"remove":"add")+"Class"](a3,"pswp--animate_opacity")}else{setTimeout(function(){bz.addClass(a3,"pswp--animate_opacity")},30)}}b9=setTimeout(function(){ao("initialZoom"+(cA?"Out":"In"));if(!cA){bI=cB.initialZoomLevel;a7(al,cB.initialPosition);ak();d(1);if(cE){a3.style.opacity=1}else{d(1)}b9=setTimeout(cC,cD+20)}else{var cH=cz.w/cB.w,cJ={x:al.x,y:al.y},cK=bI,cI=aE,cG=function(cL){if(cL===1){bI=cH;al.x=cz.x;al.y=cz.y-b4}else{bI=(cH-cK)*cL+cK;al.x=(cz.x-cJ.x)*cL+cJ.x;al.y=(cz.y-b4-cJ.y)*cL+cJ.y}ak();if(cE){a3.style.opacity=1-cL}else{d(cI-cL*cI)}};if(cF){az("initialZoom",0,1,cD,bz.easing.cubic.out,cG,cC)}else{cG(1);b9=setTimeout(cC,cD+20)}}},cA?25:90)};p()};var aU,aT={},w=[],bK,bw,b6={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:false,preload:[1,1],getNumItemsFn:function(){return aU.length}};var bC,aS,y,bk=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},a0=function(cz,p,cy){var cx=cz.bounds;cx.center.x=Math.round((aT.x-p)/2);cx.center.y=Math.round((aT.y-cy)/2)+cz.vGap.top;cx.max.x=(p>aT.x)?Math.round(aT.x-p):cx.center.x;cx.max.y=(cy>aT.y)?Math.round(aT.y-cy)+cz.vGap.top:cx.center.y;cx.min.x=(p>aT.x)?0:cx.center.x;cx.min.y=(cy>aT.y)?cz.vGap.top:cx.center.y},P=function(cz,p,cC){if(cz.src&&!cz.loadError){var cA=!cC;if(cA){if(!cz.vGap){cz.vGap={top:0,bottom:0}}ao("parseVerticalMargin",cz)}aT.x=p.x;aT.y=p.y-cz.vGap.top-cz.vGap.bottom;if(cA){var cB=aT.x/cz.w;var cy=aT.y/cz.h;cz.fitRatio=cB<cy?cB:cy;var cx=ac.scaleMode;if(cx==="orig"){cC=1}else{if(cx==="fit"){cC=cz.fitRatio}}if(cC>1){cC=1}cz.initialZoomLevel=cC;if(!cz.bounds){cz.bounds=bk()}}if(!cC){return}a0(cz,cz.w*cC,cz.h*cC);if(cA&&cC===cz.initialZoomLevel){cz.initialPosition=cz.bounds.center}return cz.bounds}else{cz.w=cz.h=0;cz.initialZoomLevel=cz.fitRatio=1;cz.bounds=bk();cz.initialPosition=cz.bounds.center;return cz.bounds}},bh=function(cy,cA,cx,p,cB,cz){if(cA.loadError){return}if(p){cA.imageAppended=true;by(cA,p,(cA===a4.currItem&&h));cx.appendChild(p);if(cz){setTimeout(function(){if(cA&&cA.loaded&&cA.placeholder){cA.placeholder.style.display="none";cA.placeholder=null}},500)}}},aP=function(cx){cx.loading=true;cx.loaded=false;var p=cx.img=bz.createEl("pswp__img","img");var cy=function(){cx.loading=false;cx.loaded=true;if(cx.loadComplete){cx.loadComplete(cx)}else{cx.img=null}p.onload=p.onerror=null;p=null};p.onload=cy;p.onerror=function(){cx.loadError=true;cy()};p.src=cx.src;return p},bs=function(p,cx){if(p.src&&p.loadError&&p.container){if(cx){p.container.innerHTML=""}p.container.innerHTML=ac.errorMsg.replace("%url%",p.src);return true}},by=function(cA,cx,cz){if(!cA.src){return}if(!cx){cx=cA.container.lastChild}var p=cz?cA.w:Math.round(cA.w*cA.fitRatio),cy=cz?cA.h:Math.round(cA.h*cA.fitRatio);if(cA.placeholder&&!cA.loaded){cA.placeholder.style.width=p+"px";cA.placeholder.style.height=cy+"px"}cx.style.width=p+"px";cx.style.height=cy+"px"},u=function(){if(w.length){var p;for(var cx=0;cx<w.length;cx++){p=w[cx];if(p.holder.index===p.index){bh(p.index,p.item,p.baseDiv,p.img,false,p.clearPlaceholder)}}w=[]}};aK("Controller",{publicMethods:{lazyLoadItem:function(p){p=bA(p);var cx=bC(p);if(!cx||((cx.loaded||cx.loading)&&!a5)){return}ao("gettingData",p,cx);if(!cx.src){return}aP(cx)},initController:function(){bz.extend(ac,b6,true);a4.items=aU=cq;bC=a4.getItemAt;aS=ac.getNumItemsFn;y=ac.loop;if(aS()<3){ac.loop=false}a8("beforeChange",function(cC){var cB=ac.preload,cy=cC===null?true:(cC>=0),cz=Math.min(cB[0],aS()),cA=Math.min(cB[1],aS()),cx;for(cx=1;cx<=(cy?cA:cz);cx++){a4.lazyLoadItem(bH+cx)}for(cx=1;cx<=(cy?cz:cA);cx++){a4.lazyLoadItem(bH-cx)}});a8("initialLayout",function(){a4.currItem.initialLayout=ac.getThumbBoundsFn&&ac.getThumbBoundsFn(bH)});a8("mainScrollAnimComplete",u);a8("initialZoomInEnd",u);a8("destroy",function(){var cx;for(var p=0;p<aU.length;p++){cx=aU[p];if(cx.container){cx.container=null}if(cx.placeholder){cx.placeholder=null}if(cx.img){cx.img=null}if(cx.preloader){cx.preloader=null}if(cx.loadError){cx.loaded=cx.loadError=false}}w=null})},getItemAt:function(p){if(p>=0){return aU[p]!==undefined?aU[p]:false}return false},allowProgressiveImg:function(){return ac.forceProgressiveLoading||!ci||ac.mouseUsed||screen.width>1200},setContent:function(cB,cA){if(ac.loop){cA=bA(cA)}var cx=a4.getItemAt(cB.index);if(cx){cx.container=null}var cC=a4.getItemAt(cA),cz;if(!cC){cB.el.innerHTML="";return}ao("gettingData",cA,cC);cB.index=cA;cB.item=cC;var cy=cC.container=bz.createEl("pswp__zoom-wrap");if(!cC.src&&cC.html){if(cC.html.tagName){cy.appendChild(cC.html)}else{cy.innerHTML=cC.html}}bs(cC);P(cC,b3);if(cC.src&&!cC.loadError&&!cC.loaded){cC.loadComplete=function(cE){if(!G){return}if(cB&&cB.index===cA){if(bs(cE,true)){cE.loadComplete=cE.img=null;P(cE,b3);ct(cE);if(cB.index===bH){a4.updateCurrZoomItem()}return}if(!cE.imageAppended){if(bb.transform&&(Y||bw)){w.push({item:cE,baseDiv:cy,img:cE.img,index:cA,holder:cB,clearPlaceholder:true})}else{bh(cA,cE,cy,cE.img,Y||bw,true)}}else{if(!bw&&cE.placeholder){cE.placeholder.style.display="none";cE.placeholder=null}}}cE.loadComplete=null;cE.img=null;ao("imageLoadComplete",cA,cE)};if(bz.features.transform){var p="pswp__img pswp__img--placeholder";p+=(cC.msrc?"":" pswp__img--placeholder--blank");var cD=bz.createEl(p,cC.msrc?"img":"");if(cC.msrc){cD.src=cC.msrc}by(cC,cD);cy.appendChild(cD);cC.placeholder=cD}if(!cC.loading){aP(cC)}if(a4.allowProgressiveImg()){if(!bK&&bb.transform){w.push({item:cC,baseDiv:cy,img:cC.img,index:cA,holder:cB})}else{bh(cA,cC,cy,cC.img,true,true)}}}else{if(cC.src&&!cC.loadError){cz=bz.createEl("pswp__img","img");cz.style.opacity=1;cz.src=cC.src;by(cC,cz);bh(cA,cC,cy,cz,true)}}if(!bK&&cA===bH){bl=cy.style;aL(cC,(cz||cC.img))}else{ct(cC)}cB.el.innerHTML="";cB.el.appendChild(cy)},cleanSlide:function(p){if(p.img){p.img.onload=p.img.onerror=null}p.loaded=p.loading=p.img=p.imageAppended=false}}});var bx,X={},v=function(cx,cA,p){var cz=document.createEvent("CustomEvent"),cy={origEvent:cx,target:cx.target,releasePoint:cA,pointerType:p||"touch"};cz.initCustomEvent("pswpTap",true,true,cy);cx.target.dispatchEvent(cz)};aK("Tap",{publicMethods:{initTap:function(){a8("firstTouchStart",a4.onTapStart);a8("touchRelease",a4.onTapRelease);a8("destroy",function(){X={};bx=null})},onTapStart:function(p){if(p.length>1){clearTimeout(bx);bx=null}},onTapRelease:function(cx,cy){if(!cy){return}if(!ai&&!bt&&!ck){var cz=cy;if(bx){clearTimeout(bx);bx=null;if(bP(cz,X)){ao("doubleTap",cz);return}}if(cy.type==="mouse"){v(cx,cy,"mouse");return}var p=cx.target.tagName.toUpperCase();if(p==="BUTTON"||bz.hasClass(cx.target,"pswp__single-tap")){v(cx,cy);return}a7(X,cz);bx=setTimeout(function(){v(cx,cy);bx=null},300)}}}});var f;aK("DesktopZoom",{publicMethods:{initDesktopZoom:function(){if(bi){return}if(ci){a8("mouseUsed",function(){a4.setupDesktopZoom()})}else{a4.setupDesktopZoom(true)}},setupDesktopZoom:function(cy){f={};var p="wheel mousewheel DOMMouseScroll";a8("bindEvents",function(){bz.bind(a3,p,a4.handleMouseWheel)});a8("unbindEvents",function(){if(f){bz.unbind(a3,p,a4.handleMouseWheel)}});a4.mouseZoomedIn=false;var cA,cz=function(){if(a4.mouseZoomedIn){bz.removeClass(a3,"pswp--zoomed-in");a4.mouseZoomedIn=false}if(bI<1){bz.addClass(a3,"pswp--zoom-allowed")}else{bz.removeClass(a3,"pswp--zoom-allowed")}cx()},cx=function(){if(cA){bz.removeClass(a3,"pswp--dragging");cA=false}};a8("resize",cz);a8("afterChange",cz);a8("pointerDown",function(){if(a4.mouseZoomedIn){cA=true;bz.addClass(a3,"pswp--dragging")}});a8("pointerUp",cx);if(!cy){cz()}},handleMouseWheel:function(p){if(bI<=a4.currItem.fitRatio){if(ac.modal){if(!ac.closeOnScroll||ck||bU){p.preventDefault()}else{if(ca&&Math.abs(p.deltaY)>2){bF=true;a4.close()}}}return true}p.stopPropagation();f.x=0;if("deltaX" in p){if(p.deltaMode===1){f.x=p.deltaX*18;f.y=p.deltaY*18}else{f.x=p.deltaX;f.y=p.deltaY}}else{if("wheelDelta" in p){if(p.wheelDeltaX){f.x=-0.16*p.wheelDeltaX}if(p.wheelDeltaY){f.y=-0.16*p.wheelDeltaY}else{f.y=-0.16*p.wheelDelta}}else{if("detail" in p){f.y=p.detail}else{return}}}aJ(bI,true);var cy=al.x-f.x,cx=al.y-f.y;if(ac.modal||(cy<=cm.min.x&&cy>=cm.max.x&&cx<=cm.min.y&&cx>=cm.max.y)){p.preventDefault()}a4.panTo(cy,cx)},toggleDesktopZoom:function(cy){cy=cy||{x:b3.x/2+bV.x,y:b3.y/2+bV.y};var cx=ac.getDoubleTapZoom(true,a4.currItem);var p=bI===cx;a4.mouseZoomedIn=!p;a4.zoomTo(p?a4.currItem.initialZoomLevel:cx,cy,333);bz[(!p?"add":"remove")+"Class"](a3,"pswp--zoomed-in")}}});var a2={history:true,galleryUID:1};var b2,bE,bY,aa,cv,an,br,bL,b5,ay,bm,k,N=function(){return bm.hash.substring(1)},cs=function(){if(b2){clearTimeout(b2)}if(bY){clearTimeout(bY)}},cl=function(){var cz=N(),cB={};if(cz.length<5){return cB}var cx,cy=cz.split("&");for(cx=0;cx<cy.length;cx++){if(!cy[cx]){continue}var cA=cy[cx].split("=");if(cA.length<2){continue}cB[cA[0]]=cA[1]}if(ac.galleryPIDs){var p=cB.pid;cB.pid=0;for(cx=0;cx<aU.length;cx++){if(aU[cx].pid===p){cB.pid=cx;break}}}else{cB.pid=parseInt(cB.pid,10)-1}if(cB.pid<0){cB.pid=0}return cB},aG=function(){if(bY){clearTimeout(bY)}if(ck||bU){bY=setTimeout(aG,500);return}if(aa){clearTimeout(bE)}else{aa=true}var p=(bH+1);var cy=bC(bH);if(cy.hasOwnProperty("pid")){p=cy.pid}var cx=br+"&gid="+ac.galleryUID+"&pid="+p;if(!bL){if(bm.hash.indexOf(cx)===-1){ay=true}}var cz=bm.href.split("#")[0]+"#"+cx;if(k){if("#"+cx!==window.location.hash){history[bL?"replaceState":"pushState"]("",document.title,cz)}}else{if(bL){bm.replace(cz)}else{bm.hash=cx}}bL=true;bE=setTimeout(function(){aa=false},60)};aK("History",{publicMethods:{initHistory:function(){bz.extend(ac,a2,true);if(!ac.history){return}bm=window.location;ay=false;b5=false;bL=false;br=N();k=("pushState" in history);if(br.indexOf("gid=")>-1){br=br.split("&gid=")[0];br=br.split("?gid=")[0]}a8("afterChange",a4.updateURL);a8("unbindEvents",function(){bz.unbind(window,"hashchange",a4.onHashChange)});var p=function(){an=true;if(!b5){if(ay){history.back()}else{if(br){bm.hash=br}else{if(k){history.pushState("",document.title,bm.pathname+bm.search)}else{bm.hash=""}}}}cs()};a8("unbindEvents",function(){if(bF){p()}});a8("destroy",function(){if(!an){p()}});a8("firstUpdate",function(){bH=cl().pid});var cx=br.indexOf("pid=");if(cx>-1){br=br.substring(0,cx);if(br.slice(-1)==="&"){br=br.slice(0,-1)}}setTimeout(function(){if(G){bz.bind(window,"hashchange",a4.onHashChange)}},40)},onHashChange:function(){if(N()===br){b5=true;a4.close();return}if(!aa){cv=true;a4.goTo(cl().pid);cv=false}},updateURL:function(){cs();if(cv){return}if(!bL){aG()}else{b2=setTimeout(aG,800)}}}});bz.extend(a4,cn)};return a});