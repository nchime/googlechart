/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
;!function(d,c){"function"==typeof define&&define.amd?define(c):"object"==typeof exports?module.exports=c():d.PhotoSwipeUI_Default=c()}(this,function(){var b=function(aO,aN){var aM,aL,aK,aJ,aI,aH,aG,aF,aE,aD,aC,aB,aA,az,ay,ax,aw,av,au,at=this,ar=!1,aq=!0,ap=!0,ao={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4000,timeToIdleOutside:1000,loadingIndicatorDelay:1000,addCaptionHTMLFn:function(d,c){return d.title?(c.children[0].innerHTML=d.title,!0):(c.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return aO.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return aO.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},an=function(i){if(ax){return !0}i=i||window.event,ay.timeToIdle&&ay.mouseUsed&&!aE&&ad();for(var o,n,m=i.target||i.srcElement,l=m.getAttribute("class")||"",k=0;k<V.length;k++){o=V[k],o.onTap&&l.indexOf("pswp__"+o.name)>-1&&(o.onTap(),n=!0)}if(n){i.stopPropagation&&i.stopPropagation(),ax=!0;var j=aN.features.isOldAndroid?600:30;aw=setTimeout(function(){ax=!1},j)}},am=function(){return !aO.likelyTouchDevice||ay.mouseUsed||screen.width>ay.fitControlsWidth},al=function(e,g,f){aN[(f?"add":"remove")+"Class"](e,"pswp__"+g)},ak=function(){var c=1===ay.getNumItemsFn();c!==az&&(al(aL,"ui--one-slide",c),az=c)},aj=function(){al(aG,"share-modal--hidden",ap)},ai=function(){return ap=!ap,ap?(aN.removeClass(aG,"pswp__share-modal--fade-in"),setTimeout(function(){ap&&aj()},300)):(aj(),setTimeout(function(){ap||aN.addClass(aG,"pswp__share-modal--fade-in")},30)),ap||ag(),!1},ah=function(a){a=a||window.event;var d=a.target||a.srcElement;return aO.shout("shareLinkClick",a,d),d.href?d.hasAttribute("download")?!0:(window.open(d.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),ap||ai(),!1):!1},ag=function(){for(var i,h,n,m,l,k="",j=0;j<ay.shareButtons.length;j++){i=ay.shareButtons[j],n=ay.getImageURLForShare(i),m=ay.getPageURLForShare(i),l=ay.getTextForShare(i),h=i.url.replace("{{url}}",encodeURIComponent(m)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(l)),k+='<a href="'+h+'" target="_blank" class="pswp__share--'+i.id+'"'+(i.download?"download":"")+">"+i.label+"</a>",ay.parseShareButtonOut&&(k=ay.parseShareButtonOut(i,k))}aG.children[0].innerHTML=k,aG.children[0].onclick=ah},af=function(d){for(var e=0;e<ay.closeElClasses.length;e++){if(aN.hasClass(d,"pswp__"+ay.closeElClasses[e])){return !0}}},ae=0,ad=function(){clearTimeout(au),ae=0,aE&&at.setIdle(!1)},ac=function(d){d=d?d:window.event;var c=d.relatedTarget||d.toElement;c&&"HTML"!==c.nodeName||(clearTimeout(au),au=setTimeout(function(){at.setIdle(!0)},ay.timeToIdleOutside))},ab=function(){ay.fullscreenEl&&!aN.features.isOldAndroid&&(aM||(aM=at.getFullscreenAPI()),aM?(aN.bind(document,aM.eventK,at.updateFullscreen),at.updateFullscreen(),aN.addClass(aO.template,"pswp--supports-fs")):aN.removeClass(aO.template,"pswp--supports-fs"))},aa=function(){ay.preloaderEl&&(Z(!0),aD("beforeChange",function(){clearTimeout(aA),aA=setTimeout(function(){aO.currItem&&aO.currItem.loading?(!aO.allowProgressiveImg()||aO.currItem.img&&!aO.currItem.img.naturalWidth)&&Z(!1):Z(!0)},ay.loadingIndicatorDelay)}),aD("imageLoadComplete",function(a,d){aO.currItem===d&&Z(!0)}))},Z=function(c){aB!==c&&(al(aC,"preloader--active",!c),aB=c)},Y=function(d){var i=d.vGap;if(am()){var f=ay.barsSize;if(ay.captionEl&&"auto"===f.bottom){if(aJ||(aJ=aN.createEl("pswp__caption pswp__caption--fake"),aJ.appendChild(aN.createEl("pswp__caption__center")),aL.insertBefore(aJ,aK),aN.addClass(aL,"pswp__ui--fit")),ay.addCaptionHTMLFn(d,aJ,!0)){var e=aJ.clientHeight;i.bottom=parseInt(e,10)||44}else{i.bottom=f.top}}else{i.bottom="auto"===f.bottom?0:f.bottom}i.top=f.top}else{i.top=i.bottom=0}},X=function(){ay.timeToIdle&&aD("mouseUsed",function(){aN.bind(document,"mousemove",ad),aN.bind(document,"mouseout",ac),av=setInterval(function(){ae++,2===ae&&at.setIdle(!0)},ay.timeToIdle/2)})},W=function(){aD("onVerticalDrag",function(d){aq&&0.95>d?at.hideControls():!aq&&d>=0.95&&at.showControls()});var c;aD("onPinchClose",function(a){aq&&0.9>a?(at.hideControls(),c=!0):c&&!aq&&a>0.9&&at.showControls()}),aD("zoomGestureEnded",function(){c=!1,c&&!aq&&at.showControls()})},V=[{name:"caption",option:"captionEl",onInit:function(c){aK=c}},{name:"share-modal",option:"shareEl",onInit:function(c){aG=c},onTap:function(){ai()}},{name:"button--share",option:"shareEl",onInit:function(c){aH=c},onTap:function(){ai()}},{name:"button--zoom",option:"zoomEl",onTap:aO.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(c){aI=c}},{name:"button--close",option:"closeEl",onTap:aO.close},{name:"button--arrow--left",option:"arrowEl",onTap:aO.prev},{name:"button--arrow--right",option:"arrowEl",onTap:aO.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){aM.isFullscreen()?aM.exit():aM.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(c){aC=c}}],U=function(){var d,k,j,i=function(l){if(l){for(var e=l.length,c=0;e>c;c++){d=l[c],k=d.className;for(var a=0;a<V.length;a++){j=V[a],k.indexOf("pswp__"+j.name)>-1&&(ay[j.option]?(aN.removeClass(d,"pswp__element--disabled"),j.onInit&&j.onInit(d)):aN.addClass(d,"pswp__element--disabled"))}}}};i(aL.children);var h=aN.getChildByClass(aL,"pswp__top-bar");h&&i(h.children)};at.init=function(){aN.extend(aO.options,ao,!0),ay=aO.options,aL=aN.getChildByClass(aO.scrollWrap,"pswp__ui"),aD=aO.listen,W(),aD("beforeChange",at.update),aD("doubleTap",function(a){var d=aO.currItem.initialZoomLevel;aO.getZoomLevel()!==d?aO.zoomTo(d,a,333):aO.zoomTo(ay.getDoubleTapZoom(!1,aO.currItem),a,333)}),aD("preventDragEvent",function(f,e,h){var g=f.target||f.srcElement;g&&g.getAttribute("class")&&f.type.indexOf("mouse")>-1&&(g.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(g.tagName))&&(h.prevent=!1)}),aD("bindEvents",function(){aN.bind(aL,"pswpTap click",an),aN.bind(aO.scrollWrap,"pswpTap",at.onGlobalTap),aO.likelyTouchDevice||aN.bind(aO.scrollWrap,"mouseover",at.onMouseOver)}),aD("unbindEvents",function(){ap||ai(),av&&clearInterval(av),aN.unbind(document,"mouseout",ac),aN.unbind(document,"mousemove",ad),aN.unbind(aL,"pswpTap click",an),aN.unbind(aO.scrollWrap,"pswpTap",at.onGlobalTap),aN.unbind(aO.scrollWrap,"mouseover",at.onMouseOver),aM&&(aN.unbind(document,aM.eventK,at.updateFullscreen),aM.isFullscreen()&&(ay.hideAnimationDuration=0,aM.exit()),aM=null)}),aD("destroy",function(){ay.captionEl&&(aJ&&aL.removeChild(aJ),aN.removeClass(aK,"pswp__caption--empty")),aG&&(aG.children[0].onclick=null),aN.removeClass(aL,"pswp__ui--over-close"),aN.addClass(aL,"pswp__ui--hidden"),at.setIdle(!1)}),ay.showAnimationDuration||aN.removeClass(aL,"pswp__ui--hidden"),aD("initialZoomIn",function(){ay.showAnimationDuration&&aN.removeClass(aL,"pswp__ui--hidden")}),aD("initialZoomOut",function(){aN.addClass(aL,"pswp__ui--hidden")}),aD("parseVerticalMargin",Y),U(),ay.shareEl&&aH&&aG&&(ap=!0),ak(),X(),ab(),aa()},at.setIdle=function(c){aE=c,al(aL,"ui--idle",c)},at.update=function(){aq&&aO.currItem?(at.updateIndexIndicator(),ay.captionEl&&(ay.addCaptionHTMLFn(aO.currItem,aK),al(aK,"caption--empty",!aO.currItem.title)),ar=!0):ar=!1,ap||ai(),ak()},at.updateFullscreen=function(a){a&&setTimeout(function(){aO.setScrollOffset(0,aN.getScrollY())},50),aN[(aM.isFullscreen()?"add":"remove")+"Class"](aO.template,"pswp--fs")},at.updateIndexIndicator=function(){ay.counterEl&&(aI.innerHTML=aO.getCurrentIndex()+1+ay.indexIndicatorSep+ay.getNumItemsFn())},at.onGlobalTap=function(e){e=e||window.event;var a=e.target||e.srcElement;if(!ax){if(e.detail&&"mouse"===e.detail.pointerType){if(af(a)){return void aO.close()}aN.hasClass(a,"pswp__img")&&(1===aO.getZoomLevel()&&aO.getZoomLevel()<=aO.currItem.fitRatio?ay.clickToCloseNonZoomable&&aO.close():aO.toggleDesktopZoom(e.detail.releasePoint))}else{if(ay.tapToToggleControls&&(aq?at.hideControls():at.showControls()),ay.tapToClose&&(aN.hasClass(a,"pswp__img")||af(a))){return void aO.close()}}}},at.onMouseOver=function(d){d=d||window.event;var c=d.target||d.srcElement;al(aL,"ui--over-close",af(c))},at.hideControls=function(){aN.addClass(aL,"pswp__ui--hidden"),aq=!1},at.showControls=function(){aq=!0,ar||at.update(),aN.removeClass(aL,"pswp__ui--hidden")},at.supportsFullscreen=function(){var c=document;return !!(c.exitFullscreen||c.mozCancelFullScreen||c.webkitExitFullscreen||c.msExitFullscreen)},at.getFullscreenAPI=function(){var a,f=document.documentElement,e="fullscreenchange";return f.requestFullscreen?a={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:e}:f.mozRequestFullScreen?a={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+e}:f.webkitRequestFullscreen?a={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+e}:f.msRequestFullscreen&&(a={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),a&&(a.enter=function(){return aF=ay.closeOnScroll,ay.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?aO.template[this.enterK]():void aO.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},a.exit=function(){return ay.closeOnScroll=aF,document[this.exitK]()},a.isFullscreen=function(){return document[this.elementK]}),a}};return b});